define(function(){var e={set:function(e){for(var t in e){var a={date:null,data:null};if(e[t].data&&""==e[t].data&&e[t].data.state&&"success"!=e[t].data.state)return console.log("can't  save:"+key),void console.log(value);a.data=JSON.stringify(e[t]),a.date=Date.parse(new Date),"exe"==clientType?datacache.module.put(t,JSON.stringify(a),864e5):localStorage.setItem(t,JSON.stringify(a))}},setsingle:function(e,t){if(t.data&&""==t.data&&t.state&&"success"!=t.state)return console.log("can't  save:"+e),void console.log(t);var a={date:null,data:null};a.data=JSON.stringify(t),a.date=Date.parse(new Date),"exe"==clientType?datacache.module.put(e,JSON.stringify(a),864e5):localStorage.setItem(e,JSON.stringify(a))},setStorage:function(e){for(var t in e)localStorage.setItem(t,JSON.stringify(e[t]))},get:function(e){var t=null;if("exe"==clientType)t=JSON.parse(datacache.module.get(e));else{if(!localStorage.getItem(e))return null;try{t=JSON.parse(localStorage.getItem(e))}catch(a){return null}}return t?"user"!=e&&Date.parse(new Date)-t.date>864e5?(this.remove(e),null):JSON.parse(t.data):null},getStorage:function(e){if(!localStorage.getItem(e))return null;try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},remove:function(e){"exe"==clientType?datacache.module.remove(e):(localStorage.removeItem(e),sessionStorage.removeItem(e))},clearall:function(e){"exe"==clientType||window.localStorage.clear()}};return{set:e.set,setsingle:e.setsingle,setStorage:e.setStorage,get:e.get,getStorage:e.getStorage,remove:e.remove,clearall:e.clearall}});