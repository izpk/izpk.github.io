var global=window;global.jumpdelay=global.debug?2e7:2e3,"undefined"==typeof console&&(console={},console.log=function(){}),global.is_ie=!!document.all,global.is_ie_10=-1!=navigator.userAgent.indexOf("Trident"),global.is_ff=-1!=navigator.userAgent.indexOf("Firefox"),global.webgl=function(){try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return!1}}(),global.canvas=!!window.CanvasRenderingContext2D,Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}),Object.first=function(e){for(var t in e)return e[t]},Object.length=function(e){var t=0;for(var n in e)t++;return t},Object.count=function(e){if(!e)return 0;if(e.length)return e.length;var t=0;for(k in e)e.hasOwnProperty(k)&&t++;return t},Object.sum=function(e){var t=0;return $.each(e,function(e,n){t+=intval(n)}),t},global.htmlspecialchars=function(e){return e=e.replace("<","&lt;"),e=e.replace(">","&gt;")},global.urlencode=function(e){return e=encodeURIComponent(e),e=strtolower(e)},global.urldecode=function(e){return e=decodeURIComponent(e)},global.xn_urlencode=function(e){return e=encodeURIComponent(e),e=e.replace(/_/g,"%5f"),e=e.replace(/\-/g,"%2d"),e=e.replace(/\./g,"%2e"),e=e.replace(/\~/g,"%7e"),e=e.replace(/\!/g,"%21"),e=e.replace(/\*/g,"%2a"),e=e.replace(/\(/g,"%28"),e=e.replace(/\)/g,"%29"),e=e.replace(/\%/g,"_")},global.xn_urldecode=function(e){return e=e.replace("_","%"),e=decodeURIComponent(e)},global.nl2br=function(e){return e=e.replace("\r\n","\n"),e=e.replace("\n","<br>"),e=e.replace("	","&nbsp; &nbsp; &nbsp; &nbsp; ")},global.time=function(){return intval(Date.now()/1e3)},global.intval=function(e){var t=parseInt(e);return isNaN(t)?0:t},global.floatval=function(e){if(!e)return 0;if(e.constructor===Array){for(var t=0;t<e.length;t++)e[t]=floatval(e[t]);return e}var n=parseFloat(e);return isNaN(n)?0:n},global.isset=function(e){var t=typeof e;return"undefined"!=t&&"unknown"!=t},global.empty=function(e){return"0"==e?!0:e?e.constructor===Object?0==Object.keys(e).length:e.constructor===Array?0==e.length:!1:!0},global.ceil=Math.ceil,global.round=Math.round,global.floor=Math.floor,global.f2y=function(e,t){t||(t=round);var n=e/100;return t(n)},global.y2f=function(e){var t=round(100*intval(e));return t},global.strtolower=function(e){return e+="",e.toLowerCase()},global.json_type=function(e){var t=Object.prototype.toString,n={undefined:"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"};return n[typeof e]||n[t.call(e)]||(e?"object":"null")},global.json_encode=function(e){var t=function(e){var t={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t[e]||"\\u00"+Math.floor(e.charCodeAt()/16).toString(16)+(e.charCodeAt()%16).toString(16)},n=[];switch(json_type(e)){case"undefined":return"undefined";case"null":return"null";case"number":case"boolean":case"date":case"function":return e.toString();case"string":return'"'+e.replace(/[\x00-\x1f\\"]/g,t)+'"';case"array":for(var r=0,o=e.length;o>r;r++)n.push(json_encode(e[r]));return"["+n.join(",")+"]";case"error":case"object":for(var i in e)n.push('"'+i+'":'+json_encode(e[i]));return"{"+n.join(",")+"}";default:return""}},global.json_decode=function(e){if(!e)return null;try{if(e.match(/^<!DOCTYPE/i))return null;var t=$.parseJSON(e);return t}catch(n){return null}},global.arrlist_values=function(e,t){var n=[];return $.each(e,function(){n.push(this[t])}),n},global.arrlist_read=function(e,t,n){for(k in e)if(e[k][t]==n)return e[k];return!1},global.arrlist_delete=function(e,t,n){for(k in e)e[k][t]==n&&delete e[k];return!1},global.min=function(){return Math.min.apply(this,arguments)},global.max=function(){return Math.max.apply(this,arguments)},global.str_replace=function(e,t,n){return n.replace(e,t)},global.strrpos=function(e,t){return e.lastIndexOf(t)},global.strpos=function(e,t){return e.indexOf(t)},global.substr=function(e,t,n){var r=o,o=e.length;return 0>t&&(t=o+t),r=n?n>0?t+n:o+n:o,e.substring(t,r)},global.explode=function(e,t){return t.split(e)},global.implode=function(e,t){return t.join(e)},global.array_merge=function(e,t){return e&&e.__proto__===Array.prototype&&t&&t.__proto__===Array.prototype?e.concat(t):$.extend(e,t)},global.array_diff=function(e,t){if(e.__proto__===Array.prototype){for(var n={},r=0,o=t.length;o>r;r++)n[t[r]]=!0;var i=[];for(r=0,o=e.length;o>r;r++){var s=e[r];n[s]||i.push(s)}return i}var i={};for(k in e)t[k]||(i[k]=e[k]);return i},global.template=function(e,t){for(k in t){var n=new RegExp("{("+k+")}","g");e=e.replace(n,function(e,n){return t[n]})}return e},global.is_mobile=function(e){var t=/^\d{11}$/;return e?!!t.test(e):!1},global.is_email=function(e){var t=/^[\w\-\.]+@[\w\-\.]+(\.\w+)+$/i;return e?!!t.test(e):!1},global.is_element=function(e){return!(!e||1!==e.nodeType)},global.pages=function(e,t,n,r){n||(n=1),r||(r=20);var o=ceil(t/r);if(2>o)return"";n=min(o,n);var s=5,a=max(1,n-s),l=min(o,n+s),c=n+s-o;c>0&&(a=max(1,a-=c)),left=n-s,left<0&&(l=min(o,l-=left));var u="";for(1!=n&&(u+='<a href="'+str_replace("{page}",n-1,e)+'">◀</a>'),a>1&&(u+='<a href="'+str_replace("{page}",1,e)+'">1 '+(a>2?"... ":"")+"</a>"),i=a;i<=l;i++)u+=i==n?'<a href="'+str_replace("{page}",i,e)+'" class="active">'+i+"</a>":'<a href="'+str_replace("{page}",i,e)+'">'+i+"</a>";return l!=o&&(u+='<a href="'+str_replace("{page}",o,e)+'">'+(o-l>1?"... ":"")+o+"</a>"),n!=o&&(u+='<a href="'+str_replace("{page}",n+1,e)+'">▶</a>'),u},global.parse_url=function(e){if(e.match(/^(([a-z]+):)\/\//i)){var t=e.match(/^(([a-z]+):\/\/)?([^\/\?#]+)\/*([^\?#]*)\??([^#]*)#?(\w*)$/i);if(!t)return null;var n={schema:t[2],host:t[3],path:t[4],query:t[5],anchor:t[6],requesturi:t[4]+(t[5]?"?"+t[5]:"")+(t[6]?"#"+t[6]:"")};return console.log(n),n}var t=e.match(/^([^\?#]*)\??([^#]*)#?(\w*)$/i);if(!t)return null;var n={schema:"",host:"",path:t[1],query:t[2],anchor:t[3],requesturi:t[1]+(t[2]?"?"+t[2]:"")+(t[3]?"#"+t[3]:"")};return console.log(n),n},global.parse_str=function(e){for(var t="=",n="&",r=e.split(n),o={},i=0;i<r.length;i++){var s=r[i].split(t);o[unescape(s[0])]=unescape(s[1]).replace(/[+]/g," ")}return o},global.parse_url_param=function(e){var t=parse_url(e),n=t.path,r=strrpos(n,"/");n=substr(n,r+1);var o=[];if(".htm"==substr(n,-4)?(n=substr(n,0,-4),o=explode("-",n)):e&&e!=window.location&&"."!=e&&"/"!=e&&"./"!=e&&(o=["thread","seo",e]),!empty(t.query)){var i=parse_str(t.query);o=array_merge(o,i)}return o},global.param=function(e){},$.is_ie&&document.documentElement.addBehavior("#default#userdata"),$.pdata=function(e,t){var n="";"undefined"!=typeof t&&(t=json_encode(t));try{if(window.localStorage)return"undefined"==typeof t?(n=localStorage.getItem(e),json_decode(n)):localStorage.setItem(e,t)}catch(r){}if(is_ie&&(!document.documentElement||"unknown"==typeof document.documentElement.load||!document.documentElement.load))return"";if("undefined"==typeof t){if(is_ie)try{document.documentElement.load(e),n=document.documentElement.getAttribute(e)}catch(r){n=""}else try{n=sessionStorage.getItem(e)&&0==sessionStorage.getItem(e).toString().length?"":null==sessionStorage.getItem(e)?"":sessionStorage.getItem(e)}catch(r){n=""}return json_decode(n)}if(is_ie)try{return document.documentElement.load(e),document.documentElement.setAttribute(e,t),document.documentElement.save(e),document.documentElement.getAttribute(e)}catch(o){}else try{return sessionStorage.setItem(e,t)}catch(o){}},$.cookie=function(e,t,n,r){if("undefined"==typeof t){var o="";if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),s=0;s<i.length;s++){var a=$.trim(i[s]);if(a.substring(0,e.length+1)==e+"="){o=decodeURIComponent(a.substring(e.length+1))+"";break}}return o}if(null===t)var t="",n=-1;if("undefined"!=typeof n){date=new Date,date.setTime(date.getTime()+1e3*n);var n="; expires="+date.toUTCString()}else var n="";var r=r?"; path="+r:"";document.cookie=e+"="+encodeURIComponent(t)+n+r},$.xget=function(e,t,n){void 0===n&&(n=1),$.ajax({type:"GET",url:e,dataType:"text",timeout:15e3,success:function(e){if(!e)return t(-100,"Server Response Empty!");var n=json_decode(e);return n?void 0===n.code?$.isPlainObject(n)?t(0,n):t(-102,e):0==n.code?t(0,n.message):n.code>0?t(n.code,n.message):n.code<0?t(n.code,n.message):void 0:t(-101,e)},error:function(r,o){return n>1?void $.xget(e,t,n-1):"abort"!=o&&"error"!=o||403==r.status||404==r.status?t(-1e3,"xhr.responseText:"+r.responseText+", type:"+o):t(-1001,"xhr.responseText:"+r.responseText+", type:"+o)}})},$.xpost=function(e,t,n){$.isFunction(t)&&(n=t,t=null),$.ajax({type:"POST",url:e,data:t,dataType:"text",timeout:6e4,success:function(e){if(!e)return n(-1,"Server Response Empty!");var t=json_decode(e);return t&&void 0!==t.code?0==t.code?n(0,t.message):t.code>0?n(t.code,t.message):t.code<0?n(t.code,t.message):void 0:n(-1,"Server Response Not JSON："+e)},error:function(e,t){return"abort"!=t&&"error"!=t||403==e.status?n(-1e3,"xhr.responseText:"+e.responseText+", type:"+t):n(-1001,"xhr.responseText:"+e.responseText+", type:"+t)}})},$.xget_sync=function(e,t,n){for(var r=[],o=0;o<e.length;o++)+function(n){var o=e[n];r.push(function(e){$.xget(o,function(r,o){t(r,o,n),e(null,{code:r,message:o})})})}(o);async.series(r,function(e,t){e?n(-1,t):n(0,t)})},$.xpost_sync=function(e,t,n,r){for(var o=[],i=0;i<e.length;i++){var s=e[i],a=t[i];+function(e,t,n,r){o.push(function(o){$.xpost(t,n,function(t,n){r(t,n,e),o(null,{code:t,message:n})})})}(i,s,a,n)}async.series(o,function(e,t){e?r(-1,t):r(0,t)})},$.required=[],$.require=function(){var e=null;arguments[0]&&"object"==typeof arguments[0]?(e=arguments[0],arguments[1]&&e.push(arguments[1])):e=arguments,this.load=function(e,t){var n=this;if(void 0!==e[t])if("string"==typeof e[t]){var r=e[t];if(-1!=$.inArray(r,$.required))return void(t<e.length&&this.load(e,t+1));$.required.push(r);var o=document.createElement("script");o.src=r,o.onerror=function(){console.log("script load error:"+r),n.load(e,t+1)},is_ie?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(n.load(e,t+1),o.onreadystatechange=null)}:o.onload=function(){n.load(e,t+1)},document.getElementsByTagName("head")[0].appendChild(o)}else if("function"==typeof e[t]){var i=e[t];i(),t<e.length&&this.load(e,t+1)}else n.load(e,t+1)},this.load(e,0)},$.require_css=function(e){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++)if(-1!=t[n].href.indexOf(e))return!1;var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=e,document.getElementsByTagName("head")[0].appendChild(r)},$.fn.loading=function(e){return this.each(function(){var t=$(this);t.css("position","relative"),this.jloading||(this.jloading=$('<div class="loading"><img src="static/loading.gif" /></div>').appendTo(t));var n=this.jloading.show();if(e)"close"==e&&(n.remove(),this.jloading=null);else{var r=t.position(),o=r.left,i=r.top,s=t.width(),a=min(t.height(),$(window).height()),o=s/2-n.width()/2,i=2*(a/2-n.height()/2)/3;n.css("position","absolute").css("left",o).css("top",i)}})},global.get_loaded_script=function(){var e=[];return $("script[src]").each(function(){e.push($(this).attr("src"))}),e},global.get_script_src=function(e){var t=[],n=e.match(/<script[^>]*?src=\s*\"([^"]+)\"[^>]*><\/script>/gi);if(!n)return t;for(var r=0;r<n.length;r++){var o=n[r].match(/<script[^>]*?src=\s*\"([^"]+)\"[^>]*><\/script>/i);t.push(o[1])}return t},global.get_stylesheet_link=function(e){var t=[],n=e.match(/<link[^>]*?href=\s*\"([^"]+)\"[^>]*>/gi);if(!n)return t;for(var r=0;r<n.length;r++){var o=n[r].match(/<link[^>]*?href=\s*\"([^"]+)\"[^>]*>/i);t.push(o[1])}return t},global.strip_script_src=function(e){return e=e.replace(/<script[^>]*?src=\s*\"([^"]+)\"[^>]*><\/script>/gi,"")},global.strip_stylesheet_link=function(e){return e=e.replace(/<link[^>]*?href=\s*\"([^"]+)\"[^>]*>/gi,"")},global.strip_script_section=function(e){return e=e.replace(/<script(\s*type="text\/javascript")?\s*>([\s\S]+?)<\/script>/gi,"")},global.get_script_section=function(e){var t=e.match(/<script(\s*type="text\/javascript")?\s*>([\s\S]+?)<\/script>/gi);return t},global.eval_script=function(e,t,n){if(e){void 0===t&&(t="0"),void 0===n&&(n=null),$.eval_script_functions||($.eval_script_functions={}),$.eval_script_functions[t]||($.eval_script_functions[t]=[]);for(var r=0;r<e.length;r++){var o=e[r].replace(/<script(\s*type="text\/javascript")?\s*>([\s\S]+?)<\/script>/i,"$2");try{if($.eval_script_functions[t][r])i=$.eval_script_functions[t][r];else{var i=new Function("args",o);$.eval_script_functions[t][r]=i}i(n)}catch(s){console.log("eval_script() error: %o, script: %s",s,o),alert(o)}}}},global.get_title_body_script_css=function(e){var e=$.trim(e),t="",n="",r=get_script_section(e),o=get_stylesheet_link(e),i=get_loaded_script(),s=get_script_src(e),a=array_diff(s,i);e=strip_script_src(e),e=strip_script_section(e),e=strip_stylesheet_link(e);var l=e.match(/<title>([^<]+?)<\/title>/i);l&&l[1]&&(t=l[1]);var l=e.match(/<body[^>]*>([\s\S]+?)<\/body>/i);l&&l[1]&&(n=l[1]);var c=$("<div>"+n+"</div>"),u=c.find("div.ajax_body");return 0==u.length&&(u=c.find("div#body")),u.length>0&&(n=u.html()),n||(n=e),-1!=n.indexOf("<meta ")&&(console.log("加载的数据有问题：body: %s: ",n),n=""),c.remove(),{title:t,body:n,script_sections:r,script_srcs:a,stylesheet_links:o}},global.eval_stylesheet=function(e){if(e){$.required_css||($.required_css={});for(var t=0;t<e.length;t++)$.required_css[e[t]]||$.require_css(e[t])}},global.nodeHasParent=function(e,t){t||(t=document.body);for(var n=e.parentNode;n;){if(n==t)return!0;n=n.parentNode}return!1},$.fn.removeDeep=function(){return this.each(function(){$(this).find("*").off()}),this.off(),this.remove(),this},$.fn.emptyDeep=function(){return this.each(function(){$(this).find("*").off()}),this.empty(),this},$.link_div_position=function(e,t,n,r){if("object"==typeof n)return n;if(e&&0!=e.length){var o=e.offset(),i=e.offsetParent(),s=i.offset();console.log("%o, %o, %o, %o",i,s,o,e.position());var a=r?o.left-s.left:o.left,l=r?o.top-s.top:o.top,c=e.width(),u=e.height()}else var a=0,l=0,c=0,u=0;var f=t.width(),d=t.height(),p=$(window).width(),h=$(window).height();if(0==f)return!1;var g=0,m=0;return 1==n?(g=a-f,m=l-d-2):2==n?(g=a-f/2,m=l-d-2):3==n?(g=a+c,m=l-d-2):4==n?(g=a-f,m=l-d/2):5==n?(g=a-f/2,m=l-d/2):6==n?(g=a+c,m=l):7==n?(g=a-f,m=l+u+2):8==n?(g=a-f/2,m=l+u+2):9==n?(g=a+c,m=l+u+2):"center"==n&&(m=.7*(h/2-d/2)+$(window).scrollTop(),g=p/2-f/2,0>m&&(m=10)),g=Math.max(0,g),m=Math.max(0,m),{left:g,top:m}},$.fn.son=$.fn.children,$.fn.select_option=function(e){return this.each(function(){$(this).find("option").filter(function(){return this.value==e}).prop("selected",!0)})},$.fn.checked=function(e){e&&(e=e instanceof Array?e.map(function(e){return e+""}):e+"");var t=function(){return e instanceof Array?-1!=$.inArray(this.value,e):this.value==e};if(e)return this.each(function(){"select"==strtolower(this.tagName)?$(this).find("option").filter(t).prop("selected",!0):"checkbox"!=strtolower(this.type)&&"radio"!=strtolower(this.type)||$(this).filter(t).prop("checked",!0)}),this;if(this.length<0)return this;for(var n="select"==strtolower(this[0].tagName)?"select":strtolower(this[0].type),r="checkbox"==n?[]:"",o=0;o<this.length;o++){var i=this[o];if("select"==n){var s=$(i).find("option").filter(function(){return 1==this.selected});if(s.length>0)return s.attr("value")}else if("checkbox"==n)i.checked&&r.push(i.value);else if("radio"==n&&i.checked)return i.value}return r},$.fn.mouseout_hide=function(e,t,n){return e?this.each(function(){var r=$(this);t?(t.on("mouseover",function(){return r.htime&&(clearTimeout(r.htime),r.htime=!1),!1}),t.on("mouseout",function(){return r.htime&&(clearTimeout(r.htime),r.htime=!1),r.htime?void 0:(r.htime=setTimeout(function(){r.fadeOut(),r.htime=!1,n&&n()},e),!1)})):r.htime=setTimeout(function(){r.fadeOut(),r.htime=!1},e),r.on("mouseover",function(){return r.htime&&(clearTimeout(r.htime),r.htime=!1),!1}),r.on("mouseout",function(){return r.htime&&(clearTimeout(r.htime),r.htime=!1),r.htime?void 0:(r.htime=setTimeout(function(){r.fadeOut(),r.htime=!1,n&&n()},e),!1)})}):this},$.fn.menu_show=function(e,t,n){return this.each(function(){var r=$(this),o=$(e);o.css({position:"absolute",top:"-1000px",left:"-1000px","z-index":1e4}).show(),t||(t=8);var i=$.link_div_position(r,o,t,!0);i&&(o.css(i),o.fadeIn("fast"),n&&o.mouseout_hide(n,r))})},$.fn.line_ok=function(){return is_ie?this:this.css("background","#00AA33").animate({background:"#FFFFFF"},1e3,"linear")},$.fn.line_error=function(){return is_ie?this:this.css("background","red").animate({background:"transparent"},1e3,"linear")},$.fn.class_active=function(){var e=this.eq(0);return e.siblings().removeClass("active"),e.addClass("active"),this},$.fn.slide=function(){},$.fn.w=function(e){return void 0===e?intval(this[0].style.width):(this[0].style.width=e+"px",this)},$.fn.h=function(e){return void 0===e?intval(this[0].style.height):(this[0].style.height=e-intval(this[0].style.marginTop)+intval(this[0].style.marginBottom)+"px",console.log("height: %d, marginTop: %d, marginBottom: %d, obj:%o, obj:%o",this[0].style.height,this[0].style.marginTop,this[0].style.marginBottom,this[0],this[0].style),this)},$.fn.button=function(e){return this.each(function(){"loading"==e?($(this).prop("disabled",!0).addClass("disabled").attr("default-text",$(this).text()),$(this).html($(this).attr("loading-text"))):"disabled"==e?$(this).prop("disabled",!0).addClass("disabled"):"enable"==e?$(this).prop("disabled",!1).removeClass("disabled"):"reset"==e?($(this).prop("disabled",!1).removeClass("disabled"),$(this).attr("default-text")&&$(this).text($(this).attr("default-text"))):$(this).text(e)})},$.fn.popover=function(e,t,n){t||(t="top"),n=n?" "+n:"";var r=$(this);if(0!=r.length){var o=r.position(),i=r.width(),s=r.height(),a=o.left,l=o.top,c=$('<div class="popover'+n+'" style="display: block"><span class="arrow '+t+'"></span>'+e+"</div>").insertAfter(r),u=c.width(),f=c.height();return"top"==t?c.css({left:a,top:l-f-2}):"bottom"==t?c.css({left:a,top:l+s+4}):"left"==t?c.css({left:a-u-2,top:l+(s>f?(s-f)/2:0)}):"right"==t&&c.css({left:a+i+2,top:l+(s>f?(s-f)/2:0)}),r.on("change keyup click blur",function(){c.remove()}),this.jpopover=c,this}},$.fn.fadeIn=function(e,t){return e=e||250,$(this).show().css({opacity:0}).animate({opacity:1},e,t),this},$.fn.fadeOut=function(e,t){return e||(e=250),$(this).animate({opacity:0},e,t),this},$.fn.serializeObj=function(){var e={};return $([].slice.call(this.get(0).elements)).each(function(){var t=$(this),n=t.attr("type"),r=t.attr("name");r&&"fieldset"!=strtolower(this.nodeName)&&!this.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&("radio"!=n&&"checkbox"!=n||this.checked)&&("radio"==n||"checkbox"==n?(e[r]||(e[r]=[]),e[r].push(t.val())):e[r]=t.val())}),e},$.fn.xn_scroll=function(){return this.each(function(){function e(e){var t=intval(a.scrollTop);32==e.keyCode?e.shiftKey?(a.scrollTop=t-200,u.css("top",a.scrollTop*p+"px")):(a.scrollTop=t+200,u.css("top",a.scrollTop*p-4+"px")):33==e.keyCode?(a.scrollTop=t-l,u.css("top",a.scrollTop*p+"px")):34==e.keyCode&&(a.scrollTop=t+l,u.css("top",a.scrollTop*p-4+"px")),e.stopPropagation()}function t(e){d.startdrag=1,$("body").addClass("unselect"),d.mouse_offset_y=e.pageY-d.offsetTop,$(document).on("mousemove.scrollbar",function(e){n(e)}),$(document).on("mouseup.scrollbar",function(e){r(e)})}function n(e){if(d.startdrag){var t=e.pageY-d.mouse_offset_y;0>t&&(t=0),t>=l-h-0&&(t=l-h-0),a.scrollTop=t/p+10,u.css("top",t)}}function r(e){$(document).off("mousemove.scrollbar"),$(document).off("mouseup.scrollbar"),d.startdrag=0,$("body").removeClass("unselect")}var o=this,i=$(this),s=i.children("div").eq(0),a=s[0],l=i.height(),c=a.scrollHeight;if(i.css("position","relative").css("overflow","hidden"),s.height(i.height()).css("overflow","hidden"),!(l>=c)){var u=$('<div class="scrollbar"></div>').appendTo(i).height(100),f=$('<div class="scrollrail"></div>').appendTo(i),d=u[0],p=l/c,h=l*p;u.height(h),u.css("top",o.scrollTop*p+"px"),i.on("mouseenter",function(t){f.fadeIn(),u.fadeIn(),$(document).on("keyup.scroll",function(t){e(t)})}),i.on("mouseleave",function(e){f.fadeOut(),u.fadeOut(),$(document).off("keyup.scroll")}),s.on("mousewheel DOMMouseScroll",function(e){var t=intval(a.scrollTop),n=parseInt(e.wheelDelta||-e.detail||e.originalEvent.wheelDelta||-e.originalEvent.detail);n>0?(a.scrollTop=t-60,u.css("top",a.scrollTop*p+"px")):(a.scrollTop=t+60,u.css("top",a.scrollTop*p-4+"px"))}),s.css("-webkit-overflow-scrolling","touch"),u.on("mousedown",function(e){t(e)})}})};