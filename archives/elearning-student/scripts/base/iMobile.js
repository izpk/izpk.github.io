!function(){"use strict";var e={contant:{},constant:{},nav:{},loadDelay:function(e,t){var r=setInterval(function(){void 0!==e&&(t(),clearInterval(r))},1)},getUrlPara:function(e){for(var t=location.href,r=t.indexOf("?"),n=t.substr(r+1).split("&"),a=0;a<n.length;a++){var s=n[a].split("=");if(s[0].toUpperCase()==e.toUpperCase())return decodeURI(s[1])}return""},progress:function(){$(".progress-list").each(function(){var e=$(this).find(".progress-x").data("proWidth"),t=$(this).find(".progress-x").data("proColor");$(this).find(".progress-x").css("background-color",t).animate({width:e+"%"},1e3),$(this).find(".pull-right").children("span").text(e)}),$(".internal").each(function(){var e=$(this).data("scrollWidth");e>=100&&(e=100),$(this).animate({width:e+"%"})}),$(".Course-schedule").each(function(){var e=$(this).find(".progress-x").data("proWidth"),t=$(this).find(".progress-x").data("proColor");$(this).find(".progress-x").css("background-color",t).animate({width:e+"%"},1e3),$(this).children(".schedule").children("span").text(e)})},include:function(e,t,r){$.ajax({async:!1,dataType:"html",type:"get",url:t+"?ver="+ver,success:function(t){$("#"+e+"Include").html(t)}}),this.template(e,r)},template:function(e,t){$("#"+e+"HTML").html(_.template($("#"+e+"JS").html(),t))},getLocalTime:function(e){if(null==e)return"";var t=e.toString();t.length>11&&(t=t.substring(0,10));var r="yyyy-MM-dd h:m:s",n=new Date(1e3*parseInt(t)),a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};for(var s in/(y+)/i.test(r)&&(r=r.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));for(var i=r.split(" "),g=i[0]+" ",o=i[1].split(":"),l=0;l<o.length;l++)l>0&&(g+=":"),1==o[l].length?g+="0"+o[l]:g+=o[l];return g},getOpenCourseTime:function(e){if(null==e)return"";var t=e.toString();t.length>11&&(t=t.substring(0,10));var r="MM-dd h:m",n=new Date(1e3*parseInt(t)),a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};for(var s in/(y+)/i.test(r)&&(r=r.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));for(var i=r.split(" "),g=i[0].split("-"),o=g[0]+"月"+g[1]+"日 ",l=i[1].split(":"),c=0;c<l.length;c++)c>0&&(o+=":"),1==l[c].length?o+="0"+l[c]:o+=l[c];return o},fnDate:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=e.getHours(),s=e.getMinutes(),i=e.getSeconds();return t+"-"+this.fnW(r+1)+"-"+this.fnW(n)+" "+this.fnW(a)+":"+this.fnW(s)+":"+this.fnW(i)},fnW:function(e){return e>10?e:"0"+e},filterHtml:function(e){return e.replace(/<\/?[^>]*>/g,"").replace(/[ | ]*\n/g,"").replace(/&nbsp;/gi,"").replace(/(^\s*)|(\s*$)/g,"")},cutstr:function(e,t){e=this.filterHtml(e);var r,n=0,a=new String;r=e.length;for(var s=0;s<r;s++){var i=e.charAt(s);if(n++,escape(i).length>4&&n++,a=a.concat(i),n>=t)return a=a.concat("...")}if(n<t)return e},errorMsg:function(e){"nologin"==e?($.cookie("User","",{expires:-1}),$.cookie("token","",{expires:-1}),window.location.href="/login?loginRedirectUrl="+window.location.href):layer.msg(e,function(){})},getChar:function(e){if(e>=0&&e<=26)return String.fromCharCode(65+e);alert("请输入数字")},formatTime:function(e){var t=[parseInt(e/60/60),e/60%60,e%60].join(":").replace(/\b(\d)\b/g,"0$1");return t.substring(0,t.indexOf("."))},formatSeconds:function(e){var t=parseInt(e),r=0,n=0;t>60&&(r=parseInt(t/60),t=parseInt(t%60),r>60&&(n=parseInt(r/60),r=parseInt(r%60)));var a="";return a=t>9?parseInt(t):t>0?"0"+parseInt(t):"00",n>0&&(r+=60*n),a=r>9?parseInt(r)+":"+a:r>0?"0"+parseInt(r)+":"+a:"00:"+a},predata_Click:function(e){var t=new Date,r=t.getYear(),n=t.getMonth()+1,a=t.getDate(),s="0"+t.getHours(),i="0"+t.getMinutes(),g="0"+t.getSeconds();s>9&&(s=t.getHours()),i>9&&(i=t.getMinutes()),g>9&&(g=t.getSeconds());var o=(o=0)+1,l=new Date(r,n,a,s,i,g),c=l.getTime()+24*o*60*60*1e3;l.setTime(c);var u=l,p="0"+u.getHours(),h="0"+u.getMinutes(),f="0"+u.getSeconds();return p>9&&(p=u.getHours()),h>9&&(h=u.getMinutes()),f>9&&(f=u.getSeconds()),u.getDate()},passdata_Click:function(e){var t=new Date,r=t.getYear(),n=t.getMonth()+1,a=t.getDate(),s="0"+t.getHours(),i="0"+t.getMinutes(),g="0"+t.getSeconds();s>9&&(s=t.getHours()),i>9&&(i=t.getMinutes()),g>9&&(g=t.getSeconds());var o=(o=0)+e,l=new Date(r,n,a,s,i,g),c=l.getTime()+24*o*60*60*1e3;l.setTime(c);var u=l,p="0"+u.getHours(),h="0"+u.getMinutes(),f="0"+u.getSeconds();return p>9&&(p=u.getHours()),h>9&&(h=u.getMinutes()),f>9&&(f=u.getSeconds()),u.getDate()},getDateStr:function(e){var t=new Date;t.setDate(t.getDate()+e);t.getFullYear(),t.getMonth();return t.getDate()},html_encode:function(e){return 0==e.length?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/\n/g,"<br/>")},html_decode:function(e){if(!e)return"";return 0==e.length?"":e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/<br\/>/g,"\n").replace(/问题补充/gi,"<br/>问题补充:")},accAdd:function(e,t){var r,n,a,s;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}if(s=Math.abs(r-n),a=Math.pow(10,Math.max(r,n)),s>0){var i=Math.pow(10,s);r>n?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*i):(e=Number(e.toString().replace(".",""))*i,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},timeTurner:function(e){if((e=e.toString()).indexOf(":")>0){var t=e.split(":");e=0,2==t.length?e=parseInt(t[1])+60*parseInt(t[0]):3==t.length&&(e=parseInt(t[2])+60*parseInt(t[1])+60*parseInt(t[0])*60)}else e=parseInt(e);return e}};window.iMobile=e}();